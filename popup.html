<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
        integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous"> -->
    <script src="jquery-3.3.1.min.js"></script>

    <script src="popper.min.js"></script>
    <script src="bootstrap.min.js"></script>


    <!-- <script src="tippy-bundle.iife.min.js"></script> -->

    <script src="moment.js"></script>
    <script src="underscore-min.js"></script>
    <script src="twix.min.js"></script>
    <script src="chart.min.js"></script>

    <script src="myHoursApi.js"></script>
    <script src="allHoursApi.js"></script>

    <script src="currentUser.js"></script>

    <script src="options.js"></script>

    <script src="axoSoftApi.js"></script>

    <script src="worklog.js"></script>

    <script src="popup.js"></script>
    <script src="timeRatio.js"></script>

    <script src="fontawesome.js"></script>

    <link rel="stylesheet" type="text/css" href="popup.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="bulma.css" media="screen" />

    <!-- <script src="popper.min.js"></script> -->

    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="fontawesome.css" media="screen" />

    <script src='mapbox-gl.js'></script>
    <link href='mapbox-gl.css' rel='stylesheet' />    

    <!-- <script src="https://kit.fontawesome.com/a8696dba34.js"></script> -->


</head>

<body class="narrow">

    <div id='loginContainer' style="display: none">
        <div class="m-5 d-flex flex-column align-self-center">

            <!-- <img src="images/myhourslogo.png" /> -->
            <h3 class="mb-4 text-uppercase text-center">Login to My Hours</h3>
            <div class="field">
                <!-- <label class="text-uppercase text-sm" for="email">Email</label> -->
                <input class="input " type="email" placeholder="email" id='email'>
            </div>
            <div class="field">
                <!-- <label class="text-uppercase text-sm" for="password">password</label> -->
                <input class="input " type="password" placeholder="Password" id='password'>
            </div>
            <button id='loginButton' class="btn btn-toggle btn-darkX shadowX my-2">Login</button>
        </div>
    </div>

    <div id='mainContainer' style="display: none;" class="box12">
        <section>
            <div class="d-flex flex-wrap align-self-center m-2">
                <!-- <button id="current-date" class="date text-uppercase d-flex align-self-center ml-2 btn" style='width: 180px'>date</button> -->
                <div class="timeControls d-flex align-self-center">

                    <div class="d-flex align-self-center justify-content-center" style='width: 180px'>
                        <button id="current-date" class="date text-uppercase d-flex align-self-center btn">date</button>
                    </div>

                    <button id="previousDay"
                        class="btn btn-sm roundButton flat noFocus rounded-circle mr-1 hiddenButton">
                        <i class="fas fa-angle-left"></i>
                    </button>

                    <button id="nextDay" class="btn btn-sm roundButton flat noFocus rounded-circle hiddenButton">
                        <i class="fas fa-angle-right"></i>
                    </button>
                </div>

                <div class="ml-auto mr-2 custom-control custom-switch d-flex align-self-center">
                    <input type="checkbox" class="custom-control-input" id="showLogsSwitch" checked>
                    <label class="custom-control-label noselect" for="showLogsSwitch">Show logs</label>
                </div>

                <!-- <button id='showHomeView'
                    class="mr-2 btn roundButton noFocus rounded-circle success d-flex align-self-center justify-content-center"
                    type="button" title='open Home'>
                    <i class="fas fa-star"></i>
                </button> -->

                <button id='copyToAxoSoftButton'
                    class="mr-2 btn roundButton noFocus rounded-circle success d-flex align-self-center justify-content-center"
                    type="button" title='copy My Hours logs to Axo worklog'>
                    <i class="fas fa-seedling"></i>
                </button>

                <button id='optionsButton'
                    class="btn mr-1 roundButton noFocus rounded-circle d-flex align-self-center justify-content-center"
                    type="button" title='settings'>
                    <i class="fas fa-cog"></i>
                </button>

                <button id='logOutButton'
                    class="btn roundButton noFocus rounded-circle d-flex danger align-self-center justify-content-center mr-3"
                    type="button" title='log out from My Hours'>
                    <i class="fas fa-door-open"></i>
                </button>

                <!-- <div class="btn-group mr-3 invisible">
                    <button type="button"
                        class="btn btn-default dropdown-toggle btn-sm noFocus text-uppercase roundButtonX"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    </button>
                    <div class="dropdown-menu dropdown-menu-right">
                        <button id="optionsButton" class="dropdown-item" type="button" title="settings">
                            <i class="fas fa-tasks mr-2"></i>
                            <span>settings</span>
                        </button>
                        <div class="dropdown-divider"></div>
                        <button id="logOutButton" class="dropdown-item" type="button" title="sign out of My Hours">
                            <i class="fas fa-door-open mr-2"></i>
                            <span>sign out of My Hours</span>
                        </button>
                    </div>
                </div> -->
            </div>
        </section>

        <div id="alertContainer" class="" style="display: none">
            <div class="alert alert-primary" role="alert">
                <span id='alertText'></span>
            </div>
        </div>

        <section class="pt-2 pb-2">

            <div class="card-deck mx-3" id="stats">
                <div class="card text-left shadow-sm border-0 allHoursStats" style="width: 18rem;">
                    <div class="card-body">
                        <small style='font-size: 0.7em' class="card-title small text-uppercase">All Hours</small>
                        <p id="ahAttendance" class="axoTotal font-weight-bold-x card-text"></p>
                    </div>
                </div>

                <div class="card text-left shadow-sm border-0 myHoursStats" style="width: 18rem;">
                    <div class="card-body">
                        <small style='font-size: 0.7em' class="card-title small text-uppercase">My Hours</small>
                        <p id="mhTotal" class="axoTotal card-text font-weight-bold-x"></p>
                    </div>
                </div>

                <div class="card text-left shadow-sm border-0 axoStats" style="width: 18rem;">
                    <div class="card-body">
                        <small style='font-size: 0.7em' class="card-title small text-uppercase">Axo</small>
                        <p id="axoTotal" class="axoTotal card-text font-weight-bold-x"></p>
                    </div>
                </div>


                <div id="timeRatioCard" class="card text-left shadow-sm border-0" style="width: 18rem;">
                    <div class="card-body">
                        <small style='font-size: 0.7em' class="card-title small text-uppercase">MH vs AH</small>
                        <p id="timeRatio" class="axoTotal card-text font-weight-bold-x is-success"></p>
                    </div>
                </div>
            </div>

            <div class="container hero-footQ" style="margin: 20pxX; display: none;">
                <div class="containerQ is-fluidQ">
                    <div id='mainContainer3'>
                        <div id='tasks' class="field is-grouped is-grouped-multiline" style="margin-bottom: 20pxx;">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mb-4 mt-4">
            <div class="hero-footQ my-2">
                <div id="topContainer" class="container is-fluid customScroller"
                    style="margin-left:0px;margin-right:0px">
                    <div id='timelineContainer'>
                        <div id='timeline'>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-3 mr-3 customScroller" style="overflow: auto; max-height: 330px;">
            <div class="mx-4 mb-3" id="logsContainer">
                <div id='logs'>
                </div>

                <!-- <div class="d-flex justify-content-start my-4 pt-3">
                <button id='copyToAxoSoftButton' class="actionButton p-2 shadow" type="button">
                    <span class="px-3">copy logs to Axo worklog</span>
                </button>
            </div> -->

            </div>
        </section>
    </div>

    <div id="homeContainer" style="display: none;" class=''>
        <div class="d-flex m-2">
            <div id="homeGreeting">
                <h5></h5>
            </div>
            <div class="ml-auto">
                <button id='refreshHome'
                    class="btn roundButton noFocus rounded-circle success d-flex align-self-center justify-content-center"
                    type="button" title='back'>
                    <i class="fas fa-sync"></i>
                </button>
            </div>            
            <div class="ml-2">
                <button id='closeHome'
                    class="btn roundButton noFocus rounded-circle success d-flex align-self-center justify-content-center"
                    type="button" title='back'>
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>

        <div class="card-deck m-3">
            <div class="statistics card text-left shadow-none border-0 attendanceStats">
                <div class="card-body">
                    <small style='font-size: 0.7em' class="card-title small text-uppercase">attendance</small>
                    <p id="currentBalanceAttendance" class="axoTotal font-weight-bold-x card-text">-</p>
                </div>
            </div>

            <div class="statistics card text-left shadow-none border-0 attendanceStats">
                <div class="card-body">
                    <small style='font-size: 0.7em' class="card-title small text-uppercase">plan</small>
                    <p id="currentBalancePlan" class="axoTotal font-weight-bold-x card-text">-</p>
                </div>
            </div>

            <div class="statistics card text-left shadow-none border-0 attendanceStats">
                <div class="card-body">
                    <small style='font-size: 0.7em' class="card-title small text-uppercase">diff</small>
                    <p id="currentBalanceDiff" class="axoTotal font-weight-bold-x card-text">-</p>
                </div>
            </div>

            <div class="statistics card text-left shadow-none border-0 attendanceStats">
                <div class="card-body">
                    <small style='font-size: 0.7em' class="card-title small text-uppercase">running</small>
                    <p id="currentBalanceRunning" class="axoTotal font-weight-bold-x card-text">-</p>
                </div>
            </div>

        </div>

        <div>
            <canvas id="dayBalanceChart" width="380" height="50"></canvas>
        </div>

        <!-- <div id='map' style='width: 380px; height: 300px;'></div> -->


    </div>

    <div id='loadingContainer' style="display: none;">
        <div class="d-flex justify-content-center m-4">
            <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">connecting to myhours...</span>
            </div>
        </div>
    </div>
</body>

</html>